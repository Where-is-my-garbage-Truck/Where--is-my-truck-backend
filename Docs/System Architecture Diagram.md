╔══════════════════════════════════════════════════════════════════════════════╗
║                    "WHERE IS MY GARBAGE TRUCK" - SYSTEM DESIGN               ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────────┐
│                                   APPS                                          │
├─────────────────────────────────┬───────────────────────────────────────────────┤
│                                 │                                               │
│   📱 DRIVER APP                 │   📱 USER APP                                 |
│   (Super Simple)                │   (Like "Where is my Train")                  │
│                                 │                                               │
│   ┌───────────────────────┐     │     ┌───────────────────────────────────┐     │
│   │                       │     │     │  🗺️  LIVE MAP                     │     │
│   │   ┌───────────────┐   │     │     │                                   │     │
│   │   │               │   │     │     │   [Truck Icon moving on map]      │     │
│   │   │   🚛 START    │   │     │     │                                   │     │
│   │   │               │   │     │     │   📍 Your Location                │     │
│   │   └───────────────┘   │     │     │   🚛 Truck Location               │     │
│   │                       │     │     │   --- Route line                  │     │
│   │   Status: TRACKING    │     │     └───────────────────────────────────┘     │
│   │   📶 Network: Good    │     │                                               │
│   │   🔋 Battery: 80%     │     │     ┌───────────────────────────────────┐     │
│   │   📍 Locations: 234   │     │     │  ⏱️  ETA: 12 minutes              │     │
│   │                       │     │     │  📏 Distance: 2.3 km away         │     │
│   │   [Offline Queue: 0]  │     │     │  🛣️  Traffic: Moderate            │     │
│   │                       │     │     │  📍 Current: Main Road, Sector 5  │     │
│   └───────────────────────┘     │     └───────────────────────────────────┘     │
│                                 │                                               │
│   Features:                     │     ┌───────────────────────────────────┐     │
│   • One tap start/stop          │     │  🔔 ALERTS                        │     │
│   • Auto-start on morning       │     │                                   │     │
│   • Works offline               │     │  ☑️ Notify when 5 min away        │     │
│   • Minimal battery usage       │     │  ☑️ Notify when truck arrives     │     │
│   • Background tracking         │     │  ☐ Notify when truck passes       │     │
│                                 │     └───────────────────────────────────┘     │
│                                 │                                               │
│                                 │     ┌───────────────────────────────────┐     │
│                                 │     │  📊 TODAY'S STATUS                │     │
│                                 │     │                                   │     │
│                                 │     │  🟢 Truck is ON DUTY              │     │
│                                 │     │  🕐 Started at: 6:30 AM           │     │
│                                 │     │  📍 Stops covered: 45/120         │     │
│                                 │     │  ⏳ Your turn: ~45 mins           │     │
│                                 │     └───────────────────────────────────┘     │
│                                 │                                               │
└─────────────────────────────────┴───────────────────────────────────────────────┘
                    │                                     │
                    │ GPS + Network Quality               │ Poll / WebSocket
                    │ Every 5-30 seconds                  │ 
                    ▼                                     ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              🖥️  BACKEND (FastAPI)                              │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                  │
│  │   📍 LOCATION   │  │   ⏱️  ETA       │  │   🔔 NOTIFY     │                  │
│  │   SERVICE       │  │   SERVICE       │  │   SERVICE       │                  │
│  │                 │  │                 │  │                 │                  │
│  │ • Receive GPS   │  │ • Google Maps   │  │ • Check users   │                  │
│  │ • Store history │  │   Directions    │  │   near truck    │                  │
│  │ • Handle offline│  │ • Traffic data  │  │ • Send alerts   │                  │
│  │ • Broadcast     │  │ • Calculate ETA │  │ • Miss call API │                  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                  │
│           │                    │                    │                           │
│           └────────────────────┼────────────────────┘                           │
│                                ▼                                                │
│                    ┌─────────────────────┐                                      │
│                    │    🗄️  DATABASE     │                                      │
│                    │    (SQLite/Postgres)│                                      │
│                    └─────────────────────┘                                      │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          🌐 EXTERNAL SERVICES                                   │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                  │
│  │  🗺️  GOOGLE     │  │  📞 MISSED CALL │  │  📱 PUSH        │                  │
│  │     MAPS API    │  │     SERVICE     │  │  NOTIFICATION   │                  │
│  │                 │  │                 │  │                 │                  │
│  │ • Directions    │  │ • Ozonetel      │  │ • Firebase FCM  │                  │
│  │ • Distance      │  │ • Exotel        │  │                 │                  │
│  │ • Traffic       │  │ • Twilio        │  │                 │                  │
│  │ • ETA           │  │ • MSG91         │  │                 │                  │
│  │ • Geocoding     │  │                 │  │                 │                  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                  │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘